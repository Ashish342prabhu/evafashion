<!DOCTYPE html>
<html lang="en">

<head>
  <title>EvaFashion</title>
  <!-- <link rel="stylesheet" href="../css/index.css"> -->
  <link rel="stylesheet" href="css/index.css" />
  <link rel="stylesheet" href="css/login.css" />

  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>

<body>
  <header>
    <div class="logo_container">
      <a href="/index.html"><img class="myntra_home" src="/images/EFlogo.png" alt="EvaFashion Home" /></a>
    </div>
    <nav class="nav_bar">
      <a href="/men">Men</a>
      <a href="/women">Women</a>
      <a href="/kids">Kids</a>
      <a href="/Home">Home & Living</a>
      <a href="/Beauty">Beauty</a>
      <a href="/">Studio <sup>New</sup></a>
    </nav>
    <div class="search_bar">
      <span class="material-symbols-outlined search_icon">search</span>
      <input class="search_input" placeholder="Search for products, brands and more" />
    </div>
    <div class="action_bar">
      <a class="action_container" href="/login">
        <span class="material-symbols-outlined action_icon">person</span>
        <span class="action_name">Profile</span>
    </a>

    <a class="action_container" href="/whislist">
        <span class="material-symbols-outlined action_icon">favorite</span>
        <span class="action_name">Wishlist</span>
    </a>

      <a class="action_container" href="bag">
        <span class="material-symbols-outlined action_icon">shopping_bag</span>
        <span class="action_name">Bag</span>
        <span class="bag-item-count">0</span>
      </a>
    </div>
  </header>

  <main>

    <div id="loginbox">
      <img
        src="https://assets.myntassets.com/f_webp,dpr_1.5,q_60,w_400,c_limit,fl_progressive/assets/images/2021/7/14/1db28809-f3db-48b1-b303-d937716565661626257521634-Banner_Hamburger--2---1-.jpg" />
      <div class="loginbody">
        <div class="loginheader">Login</div>
        <form id="login">
          <input type="text" placeholder="Email" id="Email" />
          <input type="password" placeholder="Password" id="Password" />
          <input class="login-btn" type="submit" value="Login" />
        </form>
        <p>
          By continuing I agree to the<span class="smallhead">
            Terms of Use </span>&<span id="small"> Privacy Policy</span>
        </p>
        <p>Don't have account <span onclick="signinpage()">Signup</span></p>
        <div id="alert"></div>
        <!-- <div class="continue" onclick="checkcredentials()">CONTINUE</div> -->
      </div>
    </div>
  </main>
  <footer>
    <div class="footer_container">
      <div class="footer_container">
        <div class="footer_column">
          <h3>ONLINE SHOPPING</h3>
          <a href="/men">Men</a>
          <a href="/women">Women</a>
          <a href="/kids">Kids</a>
          <a href="/Home">Home & Living</a>
          <a href="/Beauty">Beauty</a>
          <a href="/">Gift Card</a>
          <a href="/">EvaFashion Insider</a>
        </div>
  
  
        <div class="footer_column">
          <h3>ONLINE SHOPPING</h3>
          <a href="/men">Men</a>
          <a href="/women">Women</a>
          <a href="/kids">Kids</a>
          <a href="/Home">Home & Living</a>
          <a href="/Beauty">Beauty</a>
          <a href="/">Gift Card</a>
          <a href="/">EvaFashion Insider</a>
        </div>
    </div>
    <div class="copyright">
      Â© 2024 www.EvaFashion.com . All rights reserved.
    </div>
  </footer>
  <!-- <script src="/scripts/kids.js"></script> -->
  <script src="scripts/login.js"></script>
</body>

</html>

<script>
  const form = document.getElementById("login");
  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    const Email = document.getElementById("Email").value;
    const password = document.getElementById("Password").value;

    const response = await fetch("/user/login", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        Email,
        password,
      }),
    })
    if (response.ok) {
      const result = await response.json();
      console.log(result.user.userId);
      localStorage.setItem('userId', result.user.userId);
    console.log('User logged in successfully!');
      window.location.href = "/index";
    } else {
      console.log(`Error: ${response.status}`);
      alert("Invalid Username or Password");
    }
  });
</script>